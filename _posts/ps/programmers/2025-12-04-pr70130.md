---
title:  "프로그래머스: 스타 수열⭐⭐⭐(실패)"
excerpt: "선형 탐색을 이용한 풀이"

categories:
  - Programmers
tags:
  - [Blog, Programmers, Algorithm, C++]

toc: true
toc_sticky: true
 
date: 2025-11-18
last_modified_at: 2025-11-18
---
> 체감 난이도 : ⭐⭐⭐  
> 걸린 시간: 1시간 초과!  

# 🧐 문제
## 문제 설명

다음과 같은 것들을 정의합니다.

- 어떤 수열 x의 [부분 수열(Subsequence)](https://en.wikipedia.org/wiki/Subsequence)이란, x의 몇몇 원소들을 제거하거나 그러지 않고 남은 원소들이 원래 순서를 유지하여 얻을 수 있는 새로운 수열을 말합니다.
    
    - 예를 들어, `[1,3]`은 `[1,2,3,4,5]`의 부분수열입니다. 원래 수열에서 2, 4, 5를 제거해서 얻을 수 있기 때문입니다.
- 다음과 같은 조건을 모두 만족하는 수열 x를 **스타 수열**이라고 정의합니다.
    
    - x의 길이가 2 이상의 짝수입니다. (빈 수열은 허용되지 않습니다.)
    - x의 길이를 2n이라 할 때, 다음과 같은 n개의 집합 `{x[0], x[1]}, {x[2], x[3]}, ..., {x[2n-2], x[2n-1]}` 의 교집합의 원소의 개수가 1 이상입니다.
    - `x[0] != x[1], x[2] != x[3], ..., x[2n-2] != x[2n-1]` 입니다.
    - 예를 들어, `[1,2,1,3,4,1,1,3]`은 스타 수열입니다. `{1,2}, {1,3}, {4,1}, {1,3}` 의 교집합은 `{1}` 이고, 각 집합 내의 숫자들이 서로 다르기 때문입니다.

1차원 정수 배열 a가 매개변수로 주어집니다. a의 모든 부분 수열 중에서 가장 길이가 긴 스타 수열의 길이를 return 하도록 solution 함수를 완성해주세요. 이때, a의 모든 부분 수열 중에서 스타 수열이 없다면, 0을 return 해주세요.

---

## 제한사항

- a의 길이는 1 이상 500,000 이하입니다.
    - a의 모든 수는 0 이상 (a의 길이) 미만입니다.

---

## 입출력 예

|a|result|
|---|---|
|`[0]`|0|
|`[5,2,3,3,5,3]`|4|
|`[0,3,3,0,7,2,0,2,2,0]`|8|

---

### 입출력 예 설명

입출력 예 #1

- a의 부분 수열 중에서 주어진 조건을 모두 만족하는 스타 수열이 없으므로, 0을 return 해야 합니다.

입출력 예 #2

- `[5,2,5,3]`, `[5,3,3,5]` 는 a의 부분 수열인 동시에 스타 수열입니다. a의 부분 수열 중 이보다 더 긴 스타 수열은 없으므로, 4를 return 해야 합니다.

입출력 예 #3

- `[0,3,3,0,7,0,2,0]` 는 a의 부분 수열인 동시에 스타 수열입니다. a의 부분 수열 중 이보다 더 긴 스타 수열은 없으므로, 8을 return 해야 합니다.

※ 공지 - 2020년 11월 27일 테스트케이스가 추가되었습니다.

---

# ✏️ 풀이

{% raw %}
```cpp
#include <bits/stdc++.h>

using namespace std;

unordered_map<int, int> cnt;

int solution(std::vector<int> a) {
    for(int n : a) cnt[n]++;
    
    int _max = 0;
    for(int i=0; i<a.size(); i++) {
        if(cnt[i] <= _max) continue;
        
        int curMax = 0;
        for(int j=0; j<a.size()-1; j++) {
            if((a[j] == i || a[j+1] == i) && a[j] != a[j+1]) {
                curMax++; j++;
            }
        }
        _max = max(_max, curMax);
    }
    
    return _max * 2;
}
```
{% endraw %}

- [여기](https://ljhyunstory.tistory.com/148)를 참고했다.

## 🧐 분석

- 이중포문으로 O(n^2)이지만, 가지치기가 들어가있어 제한시간내에 풀린다.
    - 한마디로 최적화는 제대로 안되어있다.
- a의 모든 수에 대해 탐색해보면서, 아래의 조건을 따른다.
    1. 집합 원소는 짝수개이다.
    2. 집합 내의 숫자는 서로 다르다.
    3. 집합들의 교집합은 같아야한다.

---

# 🪶 후기

정말 간단한 문제인데, 못풀었다.

항상 감은 다 잡아놓는데, 알고리즘에서 문제가 생긴다..

아직 1시간으론 안되는건가, 정말 모르겠다.