---
title:  "[Sebastian Lague] A* Pathfinding (E02: node grid) Part 1"
excerpt: "A* Pathfinding #02 - 1"

categories:
  - Techniques
tags:
  - [UE5, Unity, Algorithm]

toc: true
toc_sticky: true
 
date: 2024-07-12
last_modified_at: 2024-07-12
---
ì´ í¬ìŠ¤íŒ…ì€ [Sebastian Lagueì˜ A* Pathfinding ì˜ìƒ](https://youtu.be/nhiFx28e7JY?si=81JsxqYwW6M3Jd1n)ì„ ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.  
ê¹ƒí—ˆë¸Œ ì£¼ì†Œ: [Sebistian Lague's Github](https://github.com/SebLague/Pathfinding/blob/master/Episode%2002%20-%20grid/Assets/Grid.cs)
{: .notice--warning}

<iframe width="560" height="315" src="https://www.youtube.com/embed/nhiFx28e7JY?si=81JsxqYwW6M3Jd1n" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
&nbsp;
# âœ”ï¸ í”„ë¡œì íŠ¸ ì„¸íŒ…
![alt text](https://github.com/user-attachments/assets/68af4fd2-d360-4827-bdbd-e6a8872ca052)

ë¨¼ì € Unreal Engineì„ ì¼œê³  ì‚¬ì§„ê³¼ ê°™ì´ ì„¸íŒ…í•´ì¤€ë‹¤.
1. ê¸°ë³¸
2. C++
3. ì‹œì‘ ì½˜í…ì¸  ì²´í¬ í•´ì œ

ì—¬ê¸°ì„œ, ê²½ë¡œì— í•œê¸€ì´ ë“¤ì–´ê°€ì§€ ì•Šë„ë¡ ì£¼ì˜í•œë‹¤.

![image](https://github.com/user-attachments/assets/93b7c603-fd2b-4d37-8b8f-d162f64408f4)

í”„ë¡œì íŠ¸ê°€ ìƒì„±ì´ ë˜ë©´, ì½˜í…ì¸ ì— ë“¤ì–´ê°€ Blueprints, Maps, Materials í´ë”ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/ecc33e87-b305-4444-bca8-48b22183b37c)

Maps í´ë” ë‚´ì— 'Pathfinding'ì´ë€ ì´ë¦„ì˜ Levelì„ ì¶”ê°€í•´ì¤€ë‹¤.  
Levelì´ë€, ìœ ë‹ˆí‹°ì—ì„œì˜ Sceneê³¼ ê°™ì€ ì—­í• ì„ í•œë‹¤.

![image](https://github.com/user-attachments/assets/a642216f-cefe-4ad7-b47b-6aaba4ef95a2)

ë§Œë“  Levelì„ í´ë¦­í•˜ë©´ ì „í˜€ ë³´ì´ëŠ” ê²ƒì´ ì—†ëŠ”ë°, ì´ëŠ” ë¹›ì„ ì¶”ê°€í•´ì£¼ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.

![image](https://github.com/user-attachments/assets/2e77afad-cd52-4e35-992b-aabc5e630f7a)

ì •ìœ¡ë©´ì²´ì— +ê°€ ë¶™ì€ ì•„ì´ì½˜ì„ í´ë¦­í•˜ì—¬ 'DirectionalLight, ExponentialHeightFog, SkyAtmosphere'ë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/5eec9b9f-690a-42e0-be89-84f85fa98913)

ê·¸ë¦¬ê³  Plane ë˜í•œ ì¶”ê°€í•˜ì—¬ ë°”ë‹¥ì„ ìƒì„±í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/493e5ed7-e9f2-499b-99d2-d6d0fe8134f8)

ìƒì„±í•œ Planeì˜ ìŠ¤ì¼€ì¼ì„ ì ë‹¹íˆ ì¡°ì ˆí•˜ì—¬ ë•…ì„ ë„“í˜€ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/342f551b-9982-4804-a3ec-7396ed09452c)

ì´ì œ ìƒì„±í•œ ë ˆë²¨ì„ ë©”ì¸ìœ¼ë¡œ ë‘¬ì•¼í•œë‹¤.  
ê·¸ëŸ¬ê¸° ìœ„í•´ ìƒë‹¨ì˜ 'í¸ì§‘ íƒ­ - í”„ë¡œì íŠ¸ ì„¸íŒ…' ìœ¼ë¡œ ë“¤ì–´ê°€ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/f50f3c5f-e199-49de-ac16-e932498ed4e7)

'ë§µ & ëª¨ë“œ'ì˜ ì—ë””í„° ì‹œì‘ ë§µê³¼ ê²Œì„ ê¸°ë³¸ ë§µì„ ë°©ê¸ˆ ë§Œë“¤ì–´ì£¼ì—ˆë˜ Pathfinding ë ˆë²¨ë¡œ ì„¤ì •í•œë‹¤.
ì—¬ê¸°ê¹Œì§€ í•´ì£¼ì—ˆìœ¼ë©´ ê¸°ë³¸ì ì¸ ì„¸íŒ…ì€ ë§ˆë¬´ë¦¬ë˜ì—ˆë‹¤.

# ğŸ‘‰ğŸ» ë°°ì¹˜
![image](https://github.com/user-attachments/assets/96f84a66-69a4-4708-b7c0-a7220ce8874c)

ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ ì‹œì‘í• ìˆ˜ ìˆë‹¤.  
ì—”ì§„ - ì—”ì§„ C++ í´ë˜ìŠ¤ í´ë”ì— ë“¤ì–´ê°€, ë¹ˆê³µê°„ì„ ìš°í´ë¦­í•˜ê³  ìƒˆ C++ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

ë²ˆê±°ë¡­ì§€ë§Œ, ì²˜ìŒì—ëŠ” C++ í´ë˜ìŠ¤ í´ë”ê°€ ë”°ë¡œ ì—†ìœ¼ë¯€ë¡œ, ì‚¬ì§„ê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì£¼ì–´ì•¼ í•œë‹¤.

![image](https://github.com/user-attachments/assets/874f4a24-d361-4b8c-85ba-ca22699e6452)

ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì•¡í„°ë¡œ ì„ íƒí•œë‹¤.

![image](https://github.com/user-attachments/assets/32878f2b-8fdd-4b99-b8d8-2fdd63a5190d)

Obstacle ì´ë€ ì´ë¦„ì˜ ì•¡í„° í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

![image](https://github.com/user-attachments/assets/2fe345f1-1ce2-41d8-807c-35851dae7b5d)

ê·¸ëŸ¬ë©´ ì´ì œì„œì•¼ C++ í´ë˜ìŠ¤ í´ë”ê°€ ë³´ì´ê¸° ì‹œì‘í•œë‹¤.  
ì´ì œë¶€í„´ ì´ í´ë”ì—ì„œ í´ë˜ìŠ¤ë¥¼ í¸í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

![image](https://github.com/user-attachments/assets/dbca689e-4927-4d03-8e02-311333f1f5c7)

ì´ì „ê³¼ ê°™ì´ ë¶€ëª¨ í´ë˜ìŠ¤ê°€ ì•¡í„°ì¸ Grid í´ë˜ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/6b81fe9b-6d22-4dce-802e-fb38aee1ffc6)

Gridì™€ Obstacle ëª¨ë‘ ë¸”ë£¨í”„ë¦°íŠ¸ í´ë˜ìŠ¤ë¡œ ìƒì„±í•´ì£¼ì–´ì•¼ í•œë‹¤.

![image](https://github.com/user-attachments/assets/79e0e4e1-69bb-4b8b-b11a-2f9fd444646b)

ì•„ê¹Œ ë§Œë“¤ì—ˆë˜ Bluprints í´ë”ë¥¼ ì„ íƒí•˜ê³  ì´ë¦„ ì•ì— 'BP_'ë¥¼ ë¶™ì—¬ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/05f86f9d-59e3-47a4-b369-e47628873e52)

ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ë‘ê°œì˜ ë¸”ë£¨í”„ë¦°íŠ¸ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì£¼ì—ˆë‹¤.

![image](https://github.com/user-attachments/assets/e5432af3-eb9f-4344-8efe-59a59c6115e4)

Obstacle C++ í´ë˜ìŠ¤ë¥¼ í´ë¦­í•˜ì—¬ Visual Studioë¥¼ ì¼œì£¼ê³  Obstacle.hì— ë“¤ì–´ê°€ì¤€ë‹¤.  
UStaticMeshComponentì™€ UBoxComponentë¥¼ ì¶”ê°€í•œë‹¤.

ì•¡í„°ì—ëŠ” UBoxComponentê°€ í¬í•¨ë˜ì–´ìˆì§€ ì•Šìœ¼ë¯€ë¡œ,  
ì•ì— classë¥¼ ë¶™ì—¬ ì„ ì–¸í•´ì¤€ë’¤, cppì—ì„œ #include í•´ì£¼ì–´ì•¼ í•œë‹¤. 

![image](https://github.com/user-attachments/assets/cf082678-b1be-4f72-a816-b5be05e53aec)

Obstacle.cppì— ë“¤ì–´ê°€ #include "Components/BoxComponents.h" ë¥¼ ì¶”ê°€í•œë‹¤.  

CreateDefaultSubobjectë¥¼ í†µí•´ ê° ë³€ìˆ˜ì— ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë„£ì–´ì¤€ë‹¤.  
BoxCollisionì„ ë£¨íŠ¸ë¡œ ë‘ê³ , Meshë¥¼ ë£¨íŠ¸ì˜ ìì‹ìœ¼ë¡œ ë„£ì–´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/a1f9fec8-f21c-446b-bc48-bea11885f556)

ì–¸ë¦¬ì–¼ë¡œ ëŒì•„ì™€, LiveCoding.Compileì„ í†µí•´ ì»´íŒŒì¼ì„ ì§„í–‰í•œë‹¤.

![image](https://github.com/user-attachments/assets/51af5f7b-5490-4383-9473-da72896a7634)

ì•„ê¹Œ ë§Œë“¤ì–´ì£¼ì—ˆë˜ BP_Obstacleë¡œ ë“¤ì–´ê°€ í’€ ë¸”ë£¨í”„ë¦°íŠ¸ ì—ë””í„°ë¥¼ ì—´ì–´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/dcd9b170-f3be-4776-9973-d0e3cc71d92b)

ìŠ¤íƒœí‹± ë©”ì‹œë¡œëŠ” Cubeë¥¼ ê²€ìƒ‰í•˜ì—¬ ë„£ì–´ì¤€ë‹¤.  
í•˜ì§€ë§Œ ìƒ‰ê¹”ì´ ë„ˆë¬´ ë°‹ë°‹í•˜ê³  êµ¬ë¶„ì´ ê°€ì§€ ì•ŠëŠ”ë‹¤.

![image](https://github.com/user-attachments/assets/65bacfd3-f250-4b22-ab65-a22e20ee7d43)|![image](https://github.com/user-attachments/assets/a0a6583b-0c95-404a-9f49-c7d14296ed82)

ìƒ‰ê¹”ì„ ë„£ì–´ì£¼ê¸° ìœ„í•´ Meterials í´ë” ë‚´ì— ë¨¸í„°ë¦¬ì–¼ì„ ë§Œë“¤ì–´ì¤€ë‹¤.  
ì•ì— 'M_'ì„ ë¶™ì—¬ ìƒì„±í•´ì£¼ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.

![image](https://github.com/user-attachments/assets/c2a5d53c-1f9c-4f33-938f-befade2fc40a)

ë¨¸í„°ë¦¬ì–¼ì— ë“¤ì–´ê°€ ê²©ì í™”ë©´ì„ ìš°í´ë¦­í•˜ê³  vectorParameterë¥¼ ì¶”ê°€í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/93328a6e-6b07-45fb-974d-df07493ed74c)

ì›í•˜ëŠ” ìƒ‰ì„ ë„£ì–´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/c16a2766-0d59-41e4-a74b-04d1df02a24a)

ì´ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ M_Grassì™€ M_Obstacleì„ ìƒì„±í•´ì£¼ì—ˆë‹¤.

![image](https://github.com/user-attachments/assets/76fdeb7b-08c0-4b80-a49b-08a8a27c44a1)

ìƒì„±í•œ ë¨¸í„°ë¦¬ì–¼ì„ Planeì— ë¨¼ì € ì ìš©í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/ff071c70-7ab3-43fb-a9fa-42142eaadd2b)

ë‹¤ìŒìœ¼ë¡œ BP_Obstacleì˜ Meshì— ë¨¸í„°ë¦¬ì–¼ì„ ì ìš©í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/8c9a8145-f92b-4915-87f5-5e5bddf010a8)

ì´ì œ ì½œë¦¬ì „ì„ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.  
ë°•ìŠ¤ í¬ê¸°ì— ë§ê²Œ 'ì…°ì´í”„ - ë°•ìŠ¤ í¬ê¸°'ë¥¼ ì¡°ì ˆí•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/e0685d84-4759-4faa-842c-77bb44739f83)

ìœ ë‹ˆí‹°ì—ì„œëŠ” Layerë¥¼ ì¶”ê°€í•˜ê³  ì˜¤ë¸Œì íŠ¸ì— ì ìš©í•´ì¤Œìœ¼ë¡œì¨,  
í•´ë‹¹ ë¬¼ì²´ê°€ ì¥ì• ë¬¼ì´ë¼ëŠ” ê²ƒì„ ì„¤ì •í•´ì¤€ë‹¤.

í•˜ì§€ë§Œ ì–¸ë¦¬ì–¼ì—ì„œëŠ” ì½œë¦¬ì „ì˜ Object Channels í˜¹ì€ Trace Channelsë¥¼ í†µí•´ êµ¬í˜„í•œë‹¤.  
ì´ë¥¼ ìœ„í•´ ì•„ë˜ì˜ ê³¼ì •ì„ ë”°ë¼ì•¼ í•œë‹¤.

![image](https://github.com/user-attachments/assets/445ec8c7-435e-4d4f-905d-9530d4275b04)

'í”„ë¡œì íŠ¸ ì„¸íŒ… - ì—”ì§„ - ì½œë¦¬ì „'ì— ë“¤ì–´ê°€ ìƒˆ íŠ¸ë ˆì´ìŠ¤ ì±„ë„ì„ ì¶”ê°€í•´ì¤€ë‹¤.  
ì´ë¦„ì€ Unwalkable, ê¸°ë³¸ ë°˜ì‘ì€ Ignoreë¡œ ì„¤ì •í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/c1cfe5e6-e5bc-4df3-bb09-ea70b9202351)

ë‹¤ì‹œ BP_Obstacleë¡œ ëŒì•„ê°€ ì½œë¦¬ì „ í”„ë¦¬ì…‹ì„ Customìœ¼ë¡œ ë‘”ë‹¤.  
ê·¸ë¦¬ê³  Unwalkableì˜ ë°˜ì‘ì„ ì˜¤ë²„ë©ìœ¼ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/04322d6e-94b4-490e-abca-2e996d547e81)

ì„¤ì •ë˜ì—ˆìœ¼ë©´, BP_Obstacleì„ í™”ë©´ ìƒìœ¼ë¡œ ëŒì–´, ì‚¬ì§„ê³¼ ê°™ì´ ë°°ì¹˜í•´ì¤€ë‹¤.

ê¸€ì´ ë„ˆë¬´ ê¸¸ì–´ì¡Œìœ¼ë¯€ë¡œ, ë‹¤ìŒ íŒŒíŠ¸ì—ì„œ ë³¸ê²©ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê² ë‹¤.