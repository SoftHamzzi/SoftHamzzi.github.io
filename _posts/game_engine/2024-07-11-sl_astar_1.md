---
title:  "[Sebastian Lague] A* Pathfinding (E01: algorithm explanation)"
excerpt: "A* Pathfinding #01"

categories:
  - Techniques
tags:
  - [UE5, Unity, Algorithm]

toc: true
toc_sticky: true
 
date: 2024-07-11
last_modified_at: 2024-07-11
---
ì´ í¬ìŠ¤íŒ…ì€ [Sebastian Lagueì˜ A* Pathfinding ì˜ìƒ](https://youtu.be/-L-WgKMFuhE?si=LWFBFrXExPT8qX31)ì„ ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.
{: .notice--warning}

<iframe width="560" height="315" src="https://www.youtube.com/embed/-L-WgKMFuhE?si=J1gUQwTH3A5bPAuw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

# ğŸ’¡ì•Œê³ ë¦¬ì¦˜
A*ëŠ” íœ´ë¦¬ìŠ¤í‹±ê¸°ë°˜ ê·¸ë˜í”„ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.
ì´ëŠ” BFSì™€ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ ì„ì€ ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤.

## ë…¸ë“œ
![img1](https://github.com/SoftHamzzi/comments/assets/67397908/e05cd77d-b325-4786-b95f-381e7c3b9d95)

![img2](https://github.com/SoftHamzzi/comments/assets/67397908/cfb290d3-5bf5-4642-a2a4-7663ea9ff362)

ë…¸ë“œì—ëŠ” ì´ 3ê°œì˜ ì£¼ìš” ë³€ìˆ˜ê°€ ìˆë‹¤.

```
F = G + H
G = [ì‹œì‘ ë…¸ë“œ-í˜„ì¬ ë…¸ë“œ] ê±°ë¦¬
H = [í˜„ì¬ ë…¸ë“œ-ë„ì°© ë…¸ë“œ] ê±°ë¦¬
```

ì´ ì˜ìƒì—ì„  ë§ë‹¿ì€ ë…¸ë“œë¼ë¦¬ì˜ ê±°ë¦¬ëŠ” 10ìœ¼ë¡œ í•˜ê³ , ëŒ€ê°ì„  ê±°ë¦¬ëŠ” 14ë¡œ ê°„ë‹¨íˆ ê³„ì‚°í•˜ê³  ìˆë‹¤.

## íë¦„
```cpp
// ê³„ì‚°ë˜ì–´ì•¼ í•  ë…¸ë“œì˜ ì§‘í•©
OPEN
// ì´ë¯¸ ê³„ì‚°ëœ ë…¸ë“œì˜ ì§‘í•©
CLOSED
// OPEN ì§‘í•©ì— ì‹œì‘ ë…¸ë“œë¥¼ ì§‘ì–´ë„£ìŒ
add the start node to OPEN

loop
    // OPEN ì§‘í•©ì—ì„œ ê°€ì¥ ë‚®ì€ f_costë¥¼ ê°€ì§„ ë…¸ë“œë¥¼ í˜„ì¬ ë…¸ë“œë¡œ ì„ ì •
    current = node in OPEN with the lowest f_cost
    // OPEN ì§‘í•©ì—ì„œ í˜„ì¬ ë…¸ë“œ ì œì™¸
    remove current from OPEN
    // CLOSED ì§‘í•©ì— í˜„ì¬ ë…¸ë“œ ì¶”ê°€
    add current to CLOSED

    // í˜„ì¬ ë…¸ë“œê°€ ë„ì°© ë…¸ë“œë¼ë©´ ëë‚¸ë‹¤.
    if current is the target node
        return

    // í˜„ì¬ ë…¸ë“œì—ì„œ ë§ë‹¿ì€ ì´ 8ê°œì˜ ë…¸ë“œë¥¼ ìˆœí™˜
    foreach neighbour of the current node
        // ì´ì›ƒ ë…¸ë“œê°€ CLOSEDì— ì†í–ˆê±°ë‚˜, ê°ˆìˆ˜ ì—†ëŠ” ë…¸ë“œì¸ ê²½ìš°,
        if neighbour is not traversable or neighbour is in CLOSED
            // continue;
            skip to the next neighbour

        // ì´ì›ƒ ë…¸ë“œë¡œ ê°€ëŠ” ìƒˆë¡œìš´ ê²½ë¡œê°€ ë” ì§§ê±°ë‚˜, OPEN ì§‘í•©ì— ì—†ëŠ” ê²½ìš°(í•œë²ˆë„ ê³„ì‚°ëœ ì  ì—†ë‹¤ëŠ” ê²ƒ)
        if new path to neighbour is shorter OR neighbour is not in OPEN
            // ì´ì›ƒ ë…¸ë“œì˜ f_costë¥¼ ìƒˆë¡œìš´ f_costë¡œ ëŒ€ì²´
            set f_cost of neighbour
            // ì´ì›ƒ ë…¸ë“œì˜ ë¶€ëª¨ë¥¼ í˜„ì¬ ë…¸ë“œë¡œ. ì½”ë“œ ì¢…ë£Œì‹œ ì‹œì‘ ë…¸ë“œì™€ ë„ì°© ë…¸ë“œì˜ ê²½ë¡œë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•¨.
            set parent of neighbour to current
            // ì´ì›ƒì´ OPEN ì§‘í•©ì— ì—†ë‹¤ë©´
            if neighbour is not in OPEN
                // ì´ì›ƒì„ OPEN ì§‘í•©ì— ì¶”ê°€í•œë‹¤.
                add neighbour to OPEN
```
ì˜ìƒì—ì„œ ë‚˜ì˜¤ëŠ” pseudo ì½”ë“œì´ë‹¤.

ë…¸ë“œì— traversableì´ë€ ê²ƒê³¼ parentë¼ëŠ” ê²ƒì´ ì¶”ê°€ëë‹¤.

traversableì€ í•´ë‹¹ ë…¸ë“œë¥¼ ì¥ì• ë¬¼ë¡œ ë‘ê¸° ìœ„í•¨ì´ë‹¤.
parentëŠ” [ì‹œì‘ ë…¸ë“œ-ë„ì°© ë…¸ë“œ] ê°„ì˜ ê²½ë¡œë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•¨ì´ë‹¤.  
ë„ì°© ë…¸ë“œì—ì„œ parentë¥¼ ë”°ë¼ê°€ë©´ ì‹œì‘ ë…¸ë“œê°€ ë‚˜ì˜¤ë¯€ë¡œ ê²½ë¡œë¥¼ íŒŒì•…í•˜ê¸°ì— ìœ ìš©í•˜ë‹¤.