---
title:  "[C++] ν•­λ© 18: μΈν„°νμ΄μ¤ μ„¤κ³„λ” μ λ€λ΅ μ“°κΈ°μ—” μ‰½κ², μ—‰ν„°λ¦¬λ΅ μ“°κΈ°μ—” μ–΄λ µκ² ν•μ"
excerpt: "ν•­λ© 18"

categories:
  - Cpp
tags:
  - [Cpp]

toc: true
toc_sticky: true
 
date: 2025-06-16
last_modified_at: 2025-06-16
---
μ΄ κΈ€μ€ μ•„λμ μ±…μ„ μμ„Έν μ •λ¦¬ν• ν›„, μ •λ¦¬ν• κΈ€μ„ GPTμ—κ² μ”μ•½μ„ μ”μ²­ν•μ—¬ μ‘μ„±λμ—μµλ‹λ‹¤.  
μ΄ν™ν‹°λΈ C++ μ 3ν, μ¤μ½§ λ§μ΄μ–΄μ¤ μ €μ, κ³½μ©μ¬ λ²μ—­
{: .notice--warning}

# π“¦ 4. μ„¤κ³„ λ° μ„ μ–Έ
## π‘‰π» ν•­λ© 18: μΈν„°νμ΄μ¤ μ„¤κ³„λ” μ λ€λ΅ μ“°κΈ°μ—” μ‰½κ², μ—‰ν„°λ¦¬λ΅ μ“°κΈ°μ—” μ–΄λ µκ² ν•μ

μ°λ¦¬λ” μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤ λ•, μ‚¬μ©μκ°€ μ‹¤μν•  κ°€λ¥μ„±μ„ λ§‰μ•„λ‘μ–΄μ•Ό ν•λ‹¤.

---

## π’¥ μ‹¤μκ°€ μƒκΈ°λ” κ²½μ°λ¥Ό μ•μ•„λ³΄μ

### 1. λ§¤κ°λ³€μμ μ „λ‹¬

```cpp
class Date {
public:
	Date(int month, int day, int year);
	...
};

int main() {
	Date d(30, 3 1995); // day, month, year μμ„λ΅ μ¨λ²„λ¦Ό!
	Date d(3, 40, 1995); // dayκ°€ 40μ΄λΌλ‹
}
```

β†’ μ„ Date μΈν„°νμ΄μ¤λ” μ‚¬μ©μκ°€ μ‹¤μν•  κ°€λ¥μ„±μ΄ ν¬λ‹¤.  
β†’ μ‚¬μ©μκ°€ λ§¤κ°λ³€μμ μμ„λ¥Ό μ–΄κ²Όμ„ μλ„ μκ³ , μλ»λ νƒ€μ…μ„ λ„£μ—μ„ μλ„ μλ‹¤.

<br>

---

### π‘‰π» ν•΄κ²°μ±…: νƒ€μ…, μμ„ μ‹¤μλ¥Ό λ§‰μΌλ ¤λ©΄ μ•„λμ™€ κ°™μ΄ μ§λ©΄ λλ‹¤

```cpp
struct Day {
	explicit Day(int d)
	: val(d) {}

	int val;
};

struct Month {
	explicit Month(int m)
	: val(m) {}

	int val;
};

struct Year {
	explicit Year(int y)
	: val(y) {}

	int val;
};

class Date {
public:
	Date(const Month& month, const Day& day, const Year& year);
	...
};

int main() {
	Date d(30, 3, 1995); // μ—λ¬
	Date d(Day(30), Month(3), Year(1995)); // μ—λ¬
	Date(Month(3), Day(30), Year(1995)); // μ •μƒ
	Date(Month(3), Day(40), Year(1995)); // ν ..
}
```

β†’ μ΄ μ •λ„λ΅λ§ ν•΄λ„ μμ„λ¥Ό μλ» μ λ” λ“±, μ‹¤μλ¥Ό λ§‰λ”λ° μ¶©λ¶„ν•λ‹¤.

<br>

---

### β“ κ·Έλ¬λ‚ Day(40)κ³Ό κ°™μ΄ μλ» μ λ” κ²½μ°λ¥Ό λ§‰κ³  μ‹¶λ‹¤λ©΄?

1. enumμ„ μ‚¬μ©ν•λ‹¤. (β οΈ νƒ€μ… μ•μ •μ„± μ•½ν•¨. [ν•­λ© 2](https://softhamzzi.github.io/cpp/cpp_1_2/) μ°Έμ΅°)
2. Year, Month, Dayμ μ§‘ν•©μ„ λ―Έλ¦¬ μ •μν•λ‹¤.

---

### π“ μ•„λλ” 2λ²μ„ μ μ©ν• μ½”λ“

```cpp
class Month {
public:
	static Month Jan() { return Month(1); }
	static Month Feb() { return Month(2); }
	...
	static Month Dec() { return Month(12); }
	...

private:
	explicit Month(int m); // private, λ°–μ—μ„ μ‚¬μ©ν•μ§€ λ»ν•κ² ν•¨
	...
};

int main() {
	Date d(Month::Mar(), Day(30), Year(1995));
}
```

β†’ μ›”μ„ λ‚νƒ€λ‚΄λ” λ° **κ°μ²΄κ°€ μ•„λ‹ ν•¨μλ¥Ό μ“°κ³ ** μλ‹¤.  
β†’ **λΉ„μ§€μ—­ μ •μ  κ°μ²΄λ“¤μ μ΄κΈ°ν™”λ” λ¬Έμ κ°€ μƒκΈΈ μ μκΈ° λ•λ¬Έ**μ΄λ‹¤.  
β†’ μ΄μ— λ€ν•΄μ„  [ν•­λ© 4](https://softhamzzi.github.io/cpp/cpp_1_4/)λ¥Ό μ½μ–΄λ³΄μ.

<br>

---

## π« λ°ν™ κ°’ μ μ•½

```cpp
if(a * b = c) // λΉ„κµν•λ ¤ ν–λ”λ°, λ€μ… μ‹λ„
```

β†’ μ›¬λ§ν•΄μ„  μ‚¬μ©μ μ •μ νƒ€μ…μ€ **κΈ°λ³Έμ κ³µ νƒ€μ…μ²λΌ λ™μ‘ν•κ² λ§λ“¤μ**.  
β†’ [ν•­λ© 3](https://softhamzzi.github.io/cpp/cpp_1_3/)μ„ μ½μ–΄λ³΄μ.

μ΄λ ‡κ²κΉμ§€ μ–΄κΈ‹λ‚λ” λ™μ‘μ„ ν”Όν•λ” μ΄μ λ”,  
**μΌκ΄€μ„± μλ” μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•κΈ° μ„ν•΄μ„**μ΄λ‹¤.

μλ¥Ό λ“¤μ–΄:

- STL μ»¨ν…μ΄λ„(vector, set, β€¦) β†’ `size()` ν•¨μ μ κ³µ
- μλ°”:
    - λ°°μ—΄ β†’ `length` ν”„λ΅νΌν‹°
    - String β†’ `length()` λ©”μ†λ“
    - List β†’ `size()` λ©”μ†λ“

β†’ μ΄λ° κ²ƒλ“¤μ΄ **μΌκ΄€μ„±μ΄ λ–¨μ–΄μ§€λ©°, μ‚¬μ©ν•κΈ° λ¶νΈν•΄μ§„λ‹¤.**

<br>

---

## π’§ μμ› λ„μ¶ μλ°©

```cpp
Investment* createInvestment();
```

[ν•­λ© 13](https://softhamzzi.github.io/cpp/cpp_3_13/)μ—μ„ μ°λ¦¬λ” `createInvestment` ν©ν† λ¦¬ ν•¨μλ¥Ό ν†µν•΄, μƒμ„±λ κ°μ²΄μ ν¬μΈν„°λ¥Ό κ°€μ Έμ™”μ—λ‹¤.

μ—¬κΈ°μ„ μƒκΈΈ μ μλ” μ‹¤μλ” λ‘ κ°€μ§€ μ΄μƒμ΄ μλ‹¤.

1. ν¬μΈν„° μ‚­μ λ¥Ό κΉλΉ΅ν•  μ μλ‹¤.
2. κ°™μ€ ν¬μΈν„°μ— λ€ν•΄ `delete`λ¥Ό λ‘ λ² μ΄μƒ μ μ©ν•  μ μλ‹¤.

<br>

---

### β… ν•΄κ²°μ±…: ν©ν† λ¦¬ ν•¨μμ λ°ν™ κ°’μ„ μ¤λ§νΈ ν¬μΈν„°λ΅ λ§λ“ λ‹¤

```cpp
shared_ptr<Investment> createInvestment();
```

β†’ ν©ν† λ¦¬ ν•¨μμ λ¦¬ν„΄ κ°’μ„ shared_ptrλ΅ λ‘λ©΄ **μ‚¬μ©μκ°€ μ‹ κ²½ μ“Έ ν•„μ”λ„ μ—†μ„ λΏ μ•„λ‹λΌ**  
β†’ **μ‚­μ μλ„ μ§€μ •ν•΄ μ¤„ μ μλ” μ΄μ **μ΄ μλ‹¤.

<br>

---

## π” μ κΉ shared_ptrμ— λ€ν•΄μ„ λ” μμ„Έν μ•μ•„λ³΄μ

### 1. null κ°’κ³Ό μ‚¬μ©μ μ •μ μ‚­μ μλ¥Ό κ°€μ§„ shared_ptr

```cpp
shared_ptr<Investment> pInv(0, getRidOfInvestment); // μ»΄νμΌ μ‹¤ν¨
```

β†’ μ°λ¦¬λ” null κ°’μ„ κ°€μ§€λ©°, μ‚¬μ©μ μ •μ μ‚­μ μλ¥Ό κ°€μ§„ shared_ptrμ„ μƒμ„±ν•κ³ μ ν–λ‹¤.  
β†’ κ·Έλ¬λ‚ `0`μ€ ν¬μΈν„°κ°€ μ•„λ‹, int κ°’μ΄κΈ°μ— **μ»΄νμΌμ΄ λμ§€ μ•λ”λ‹¤.**

<br>

```cpp
shared_ptr<Investment> pInv(static_cast<Investment*>(0), getRidOfInvestment);
```

β†’ `0`μ„ Investment* νƒ€μ…μ ν¬μΈν„°λ΅ ν• λ³€ν™μ‹μΌμ£Όλ©΄ ν•΄κ²°ν•  μ μλ‹¤.

<br>

---

κ°μ²΄μ ν¬μΈν„°κ°€ κ²°μ •λλ” μ‹μ μ΄ λ¦μ–΄μ§€λ” κ²½μ°μ—” μ•„λμ²λΌ μ“΄λ‹¤:

```cpp
shared_ptr<Investment> createInvestment() {
	shared_ptr<Investment> retVal(static_cast<Investment*>(0), getRidOfInvestment);

	retVal = ...; // retValμ΄ μ‹¤μ  κ°μ²΄λ¥Ό κ°€λ¦¬ν‚¤λ„λ΅ ν•λ‹¤.
	return retVal;
}

```

β†’ λ¬Όλ΅ , κ°μ²΄μ ν¬μΈν„°κ°€ λ¨Όμ € μƒμ„±λλ‹¤λ©΄, **retValμ μƒμ„±μμ— λ°”λ΅ λ„κ²¨μ£Όλ” κ² λ” λ‚«λ‹¤.**

<br>

---

### 2. κµμ°¨ DLL λ¬Έμ λ¥Ό μ‹ κ²½ μ“°μ§€ μ•μ•„λ„ λλ‹¤

**κµμ°¨ DLL λ¬Έμ κ°€ μƒκΈ°λ” κ²½μ°:**

- `new`λ¥Ό μ‚¬μ©ν•  λ•λ” Aμ λ™μ  λ§ν¬ λΌμ΄λΈλ¬λ¦¬
- `delete`λ¥Ό μ“Έ λ•λ” Bμ λ™μ  λ§ν¬ λΌμ΄λΈλ¬λ¦¬
    
    β†’ μ΄λ° κ²½μ° **λ°νƒ€μ„ μ—λ¬**κ°€ λ‚λ‹¤.
    

β†’ κ·Έλ¬λ‚ shared_ptrμ—μ„λ” λ™μ  ν• λ‹Ήλ κ°’μ— λ€ν•΄ **new/delete μ§μ„ μ‹ κ²½ μ“°μ§€ μ•μ•„λ„ λλ‹¤.**

<br>

---

# π§ μ •λ¦¬

1. μΆ‹μ€ μΈν„°νμ΄μ¤λ” μ λ€λ΅ μ“°κΈ° μ‰½κ³ , μ—‰ν„°λ¦¬λ΅ μ“°κΈ° μ–΄λ µλ‹¤.
    
    β†’ μ΄λ¥Ό μƒκ°ν•λ©° μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤λ„λ΅ ν•μ.
    
2. μΈν„°νμ΄μ¤μ μ¬λ°”λ¥Έ μ‚¬μ©μ„ μ„ν• λ°©λ²•μΌλ΅
    
    β†’ μΈν„°νμ΄μ¤μ μΌκ΄€μ„± μ§€ν‚¤κΈ°,
    
    β†’ κΈ°λ³Έμ κ³µ νƒ€μ…κ³Όμ λ™μ‘ νΈν™μ„± μ μ§€κ°€ μλ‹¤.
    
3. μ‚¬μ©μ μ‹¤μλ¥Ό λ°©μ§€ν•λ” λ°©λ²•μΌλ΅
    
    β†’ μƒλ΅μ΄ νƒ€μ… λ§λ“¤κΈ°,
    
    β†’ νƒ€μ…μ— λ€ν• μ—°μ‚° μ ν•,
    
    β†’ κ°μ²΄ κ°’μ— μ μ•½ κ±ΈκΈ°,
    
    β†’ μμ› κ΄€λ¦¬ μ‘μ—…μ„ μ‚¬μ©μ μ±…μ„μΌλ΅ λ†“μ§€ μ•κΈ°κ°€ μλ‹¤.
    
4. shared_ptrμ€ μ‚¬μ©μ μ •μ μ‚­μ μλ¥Ό μ§€μ›ν•λ‹¤.
    
    β†’ μ΄ νΉμ§•μΌλ΅ κµμ°¨ DLL λ¬Έμ λ¥Ό λ§‰κ³ ,
    
    β†’ λ®¤ν…μ¤ μλ™ μ κΈ ν•΄μ μ— μ“Έ μ μλ‹¤. ([ν•­λ© 14](https://softhamzzi.github.io/cpp/cpp_3_14/) μ°Έκ³ )