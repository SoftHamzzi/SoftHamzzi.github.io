---
title:  "[C++] í•­ëª© 42: typenameì˜ ë‘ ê°€ì§€ ì˜ë¯¸ë¥¼ ì œëŒ€ë¡œ íŒŒì•…í•˜ì"
excerpt: "í•­ëª© 42"

categories:
  - Cpp
tags:
  - [Cpp]

toc: true
toc_sticky: true
 
date: 2025-10-29
last_modified_at: 2025-10-29
---
ì´ ê¸€ì€ ì•„ë˜ì˜ ì±…ì„ ìì„¸íˆ ì •ë¦¬í•œ í›„, ì •ë¦¬í•œ ê¸€ì„ GPTì—ê²Œ ìš”ì•½ì„ ìš”ì²­í•˜ì—¬ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.  
ì´í™í‹°ë¸Œ C++ ì œ3íŒ, ìŠ¤ì½§ ë§ˆì´ì–´ìŠ¤ ì €ì, ê³½ìš©ì¬ ë²ˆì—­
{: .notice--warning}

# ğŸ“¦ 7. í…œí”Œë¦¿ê³¼ ì¼ë°˜í™” í”„ë¡œê·¸ë˜ë°
## ğŸ‘‰ğŸ» í•­ëª© 42: typenameì˜ ë‘ ê°€ì§€ ì˜ë¯¸ë¥¼ ì œëŒ€ë¡œ íŒŒì•…í•˜ì

### âœ… typenameì˜ ì²« ë²ˆì§¸ ì˜ë¯¸: classì™€ ë™ì¼

```cpp
// 1ë²ˆ
template<class T>
class Widget;

// 2ë²ˆ
template<typename T>
class Widget;
```

**í•µì‹¬:**

- ìœ„ ë‘ ì½”ë“œëŠ” **ì°¨ì´ê°€ ì—†ë‹¤**
- í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ, `class`ì™€ `typename`ì€ ì„œë¡œ ë°”ê¾¸ì–´ ì¨ë„ ëœë‹¤

**ê·¸ëŸ¬ë‚˜**, typenameì´ **ë°˜ë“œì‹œ ì“°ì—¬ì•¼ í•˜ëŠ” ê²½ìš°**ê°€ ìˆë‹¤.

---

### âœ… ì˜ì¡´ ì´ë¦„ê³¼ ë¹„ì˜ì¡´ ì´ë¦„

```cpp
// ì œëŒ€ë¡œ ëœ ì½”ë“œëŠ” ì•„ë‹ˆë‹¤.
template<typename C>
// ì»¨í…Œì´ë„ˆì— ìˆëŠ” ë‘ ë²ˆì§¸ ì›ì†Œë¥¼ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜
void print2nd(const C& container) {
	if(container.size() >= 2) {
		C::const_iterator iter(container.begin());

		++iter;
		int value = *iter;
		cout << value;
	}
}
```

### **ì˜ì¡´ ì´ë¦„ (Dependent Name)**

> C::const_iterator
> 
- **í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ Cì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ” íƒ€ì…**ì´ë‹¤
- í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ì— **ì¢…ì†ëœ ê²ƒ**ì„ **ì˜ì¡´ ì´ë¦„**ì´ë¼ê³  í•œë‹¤

### **ë¹„ì˜ì¡´ ì´ë¦„ (Non-dependent Name)**

> int
> 
- `int`ì™€ ê°™ì´ **í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ì™€ ìƒê´€ì—†ëŠ” íƒ€ì… ì´ë¦„**ì„ **ë¹„ì˜ì¡´ ì´ë¦„**ì´ë¼ í•œë‹¤

---

### ğŸ“Œ ì˜ì¡´ ì´ë¦„ì˜ ë™ì‘

```cpp
int main() {
	vector<int> v = {1,2,3};
	print2nd(v);

	list<int> l = {1,2,3};
	print2nd(l);
}
```

**ì˜ì¡´ ì´ë¦„ì˜ ë³€í™˜:**

- `C::const_iterator`ëŠ” í•¨ìˆ˜ ë‚´ì—ì„œ ê°ê° ì•„ë˜ì™€ ê°™ì€ íƒ€ì… ì´ë¦„ìœ¼ë¡œ ë³€í™˜ë  ê²ƒì´ë‹¤
    - `vector<int>::const_iterator`
    - `list<int>::const_iterator`
- ì´ê²ƒì´ **ì˜ì¡´ ì´ë¦„**ì´ë‹¤

### **ì¤‘ì²© ì˜ì¡´ (íƒ€ì…) ì´ë¦„**

> ì´ë¦„ì´ ì–´ë–¤ í´ë˜ìŠ¤ ì•ˆì— ì¤‘ì²©ë˜ì–´ ìˆëŠ” ê²ƒ
> 

---

### âš ï¸ ë¬¸ì œ: ì»´íŒŒì¼ëŸ¬ì˜ ëª¨í˜¸ì„±

```cpp
struct Foo {
	static int const_iterator;
};

template<typename C>
void print2nd(const C& container) {
	// ì´ê²ƒì´ ê³±ì…ˆ ì—°ì‚°ì¼ ê°€ëŠ¥ì„±ì´ ìƒê¸´ë‹¤.
	C::const_iterator* x;
	...
}
```

**ë¬¸ì œ:**

- íƒ€ì… ì´ë¦„ìœ¼ë¡œ ë°”ë€” ê²ƒì´ë¼ **ì¥ë‹´í•  ìˆ˜ ì—†ë‹¤**
- `struct Foo { static int const_iterator; }` ê°™ì€ ê²½ìš°ë¡œ ì¸í•´ ì»´íŒŒì¼ëŸ¬ëŠ”,  
**C::const_iteratorê°€ ë³€ìˆ˜ì¸ì§€ íƒ€ì…ì¸ì§€ ì•Œ ìˆ˜ ì—†ê²Œ ëœë‹¤**

**ì»´íŒŒì¼ëŸ¬ ì…ì¥:**

- `C::const_iterator* x;`ê°€ íƒ€ì… ì„ ì–¸ì¸ê°€?
- ì•„ë‹ˆë©´ `C::const_iterator`ì™€ `x`ì˜ ê³±ì…ˆ ì—°ì‚°ì¸ê°€?

---

### âœ… í•´ê²°: typenameìœ¼ë¡œ íƒ€ì… ëª…ì‹œ

```cpp
template<typename C>
void print2nd(const C& container) {
	if(container.size() >= 2) {
		typename C::const_iterator iter(container.begin());
		...
	}
}
```

**ê·œì¹™:**

> í…œí”Œë¦¿ ì•ˆì—ì„œ ì¤‘ì²© ì˜ì¡´ ì´ë¦„ì„ ì°¸ì¡°í•  ê²½ìš°, typename í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì£¼ì.
> 

---

### ğŸš¨ typename ì‚¬ìš© ì‹œ ì£¼ì˜ì 

### ì˜ˆì‹œ 1: í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜

```cpp
template<typename C>
void f(
	const C& container,          // âŒ typename ì“°ë©´ ì•ˆ ë¨
	typename C::iterator iter    // âœ… typename ì¨ì•¼ í•¨
);

```

**ê·œì¹™:**

> ì¤‘ì²© ì˜ì¡´ ì´ë¦„ì„ ì‹ë³„í•˜ëŠ” ë°ë§Œ typenameì„ ì‚¬ìš©í•˜ì—¬ì•¼ í•œë‹¤.
> 

---

### ì˜ˆì‹œ 2: ê¸°ë³¸ í´ë˜ìŠ¤ì™€ ë©¤ë²„ ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸

```cpp
template<typename T>
// ìƒì†ë˜ëŠ” ê¸°ë³¸ í´ë˜ìŠ¤ ë¦¬ìŠ¤íŠ¸
// â†“ âŒ typename ì“°ë©´ ì•ˆ ë¨
class Derived: public Base<T>::Nested {
public:
	// ë©¤ë²„ ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ ì‹ë³„ì
	// â†“ âŒ typename ì“°ë©´ ì•ˆ ë¨
	explicit Derived(int x)
	: Base<T>::Nested(x) {

		// ê¸°ë³¸ í´ë˜ìŠ¤ ë¦¬ìŠ¤íŠ¸ì— ì—†ìŒ
		// ë©¤ë²„ ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ ì‹ë³„ì ì•„ë‹˜
		// â†“ âœ… typename í•„ìš”
		typename Base<T>::Nested temp;
		...
	}
	...
};
```

**ì¤‘ì²© ì˜ì¡´ íƒ€ì… ì´ë¦„ì´ì§€ë§Œ, typenameì„ ë¶™ì´ë©´ ì•ˆ ë˜ëŠ” ê²½ìš°:**

1. **ê¸°ë³¸ í´ë˜ìŠ¤ì˜ ë¦¬ìŠ¤íŠ¸ì— ìˆì„ ê²½ìš°**
2. **ë©¤ë²„ ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸ ë‚´ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ ì‹ë³„ìë¡œ ìˆì„ ê²½ìš°**

**ì´ ì™¸ì—ëŠ” typenameì´ í•„ìš”í•˜ë‹¤.**

---

### ğŸ“Š typename ì‚¬ìš© ì—¬ë¶€ ì •ë¦¬

| ìœ„ì¹˜ | typename ì‚¬ìš© ì—¬ë¶€ | ì˜ˆì‹œ |
| --- | --- | --- |
| **í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜** | ì„ íƒ (classì™€ ë™ì¼) | `template<typename T>` |
| **ì¤‘ì²© ì˜ì¡´ íƒ€ì… ì´ë¦„** | í•„ìˆ˜ | `typename C::iterator` |
| **ê¸°ë³¸ í´ë˜ìŠ¤ ë¦¬ìŠ¤íŠ¸** | ì‚¬ìš© ê¸ˆì§€ | `class D: public Base<T>::Nested` |
| **ë©¤ë²„ ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸** | ì‚¬ìš© ê¸ˆì§€ | `: Base<T>::Nested(x)` |
| **í•¨ìˆ˜ ë³¸ë¬¸ ë‚´** | í•„ìš” ì‹œ ì‚¬ìš© | `typename Base<T>::Nested temp;` |

---

### âœ… ì‹¤ìš© ì˜ˆì œ 1: iterator_traits

```cpp
template<typename IterT>
void workWithIterator(IterT iter) {
	typename iterator_traits<IterT>::value_type temp(*iter);
	...
}
```

**ì½”ë“œ ë¶„ì„:**

- `iterator_traits`ëŠ” <b>"ë°˜ë³µìê°€ ì–´ë–¤ ì¢…ë¥˜ì˜ ë°˜ë³µìì¸ì§€"</b>ë¥¼  
ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë„êµ¬ì´ë‹¤
- `iterator_traits<IterT>`: IterT íƒ€ì… íŠ¹ì„± ì •ë³´ë¥¼ ë‹¤ë£¸
- `::value_type`: IterTì˜ íƒ€ì… ì¶”ë¡ 
- `temp(*iter)`: iterì˜ íƒ€ì…ì„ tempì— ë„£ìŒ

**ì˜ˆì‹œ:**

- `iter`ê°€ `vector<int>::iterator`ë¼ë©´ `temp`ì˜ íƒ€ì…ì€ `int`ê°€ ë  ê²ƒì´ë‹¤

---

### ğŸ“Œ iterator_traitsì˜ ë‚´ë¶€ êµ¬ì¡°

```cpp
struct iterator_traits {
	typedef typename Iterator::iterator_category iterator_category;
	typedef typename Iterator::value_type value_type;
	typedef typename Iterator::difference_type difference_type;
	typedef difference_type distance_type;
	typedef typename Iterator::pointer pointer;
	typedef typename Iterator::reference reference;
};
```

**í•µì‹¬ ê°œë…:**

- `iterator_traits`ëŠ” **íƒ€ì… íŠ¹ì„± ì •ë³´ë¥¼ ì¼ë°˜í™”í•´ ë‹¤ë£¨ëŠ” ë©”ì»¤ë‹ˆì¦˜**ì´ë‹¤
- Javaì˜ **Reflection**ê³¼ ìœ ì‚¬í•˜ë‹¤
    - `obj.getClass().getName()` ê°™ì´ ì •ë³´ë¥¼ ì¶”ì¶œí•  ë•Œ ì“°ëŠ” ì !

---

### âœ… ì‹¤ìš© ì˜ˆì œ 2: typedefë¡œ ê°„ê²°í•˜ê²Œ

```cpp
template<typename IterT>
void workWithIterator(IterT iter) {
	typedef typename iterator_traits<IterT>::value_type value_type;

	value_type temp(*iter);
	...
}
```

**ì¥ì :**

- ê¸´ íƒ€ì… ì´ë¦„ì„ **typedefë¡œ ì •ì˜**í•˜ì—¬ ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
- `typename`ì€ typedef ì„ ì–¸ ì‹œ í•œ ë²ˆë§Œ ì‚¬ìš©

---

### ğŸ’¡ ì‹¤ì „ í™œìš© íŒ

### **ê¸´ ì¤‘ì²© ì˜ì¡´ íƒ€ì…ì€ typedefë¡œ ê°„ì†Œí™”:**

```cpp
// âŒ ì½ê¸° ì–´ë ¤ì›€
template<typename T>
void process(T container) {
	typename std::vector<typename T::value_type>::iterator it;
	...
}

// âœ… ì½ê¸° ì‰¬ì›€
template<typename T>
void process(T container) {
	typedef typename T::value_type ValueType;
	typedef typename std::vector<ValueType>::iterator Iterator;

	Iterator it;
	...
}
```

---

### ğŸ§ ì •ë¦¬

1. **í…œí”Œë¦¿ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ, classì™€ typenameì€ ì„œë¡œ ë°”ê¾¸ì–´ ì¨ë„ ëœë‹¤.**  
ì˜ë¯¸ìƒ ì°¨ì´ê°€ ì—†ë‹¤.
2. **ì¤‘ì²© ì˜ì¡´ íƒ€ì… ì´ë¦„ì„ ì‹ë³„í•˜ëŠ” ìš©ë„ëŠ” ë°˜ë“œì‹œ typenameì„ ì‚¬ìš©í•œë‹¤.**  
ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì…ì„ì„ ì¸ì‹í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.
3. **ì¤‘ì²© ì˜ì¡´ ì´ë¦„ì„ typename ì—†ì´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°:**
    - ì¤‘ì²© ì˜ì¡´ ì´ë¦„ì´ **ê¸°ë³¸ í´ë˜ìŠ¤ ë¦¬ìŠ¤íŠ¸**ì— ìˆì„ ë•Œ
    - **ë©¤ë²„ ì´ˆê¸°í™” ë¦¬ìŠ¤íŠ¸ ë‚´ì˜ ê¸°ë³¸ í´ë˜ìŠ¤ ì‹ë³„ì**ë¡œ ìˆì„ ë•Œ
4. **ê¸´ ì¤‘ì²© ì˜ì¡´ íƒ€ì… ì´ë¦„ì€ typedefë¡œ ê°„ì†Œí™”í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì´ì.**  
í•œ ë²ˆë§Œ typenameì„ ì‚¬ìš©í•˜ê³  ì´í›„ì—ëŠ” typedef ì´ë¦„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.